package com.ruoyi.common.utils;

import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;

import sun.misc.BASE64Decoder;
import sun.misc.BASE64Encoder;

/**
 * @Auther ctq
 * @Date 2020/9/9
 */
public class Base64ImageUtils {
    public static void main(String[] args) {
        // 测试从Base64编码转换为图片文件

        String strImg = "data:image/png;base64,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".replace("data:image/png;base64,", "").replace(" ", "+");//因为base64编码传递到后台之后会将“+”转换成空格，所以要request.getParameter("imgStr").replace("data:image/png;base64,", "").replace(" ", "+");进行替换回来
        GenerateImage(strImg, "D:\\刘波.jpg"/*图片的输出路径*/);

        // 测试从图片文件转换为Base64编码
        System.out.println(GetImageStr("d:\\刘波.jpg"/*图片的存在路径*/));


    }

    //图片转base64
    public static String GetImageStr(String imgFilePath) {// 将图片文件转化为字节数组字符串，并对其进行Base64编码处理
        byte[] data = null;

    // 读取图片字节数组
        try {
            InputStream in = new FileInputStream(imgFilePath);
            data = new byte[in.available()];
            in.read(data);
            in.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
        // 对字节数组Base64编码
        BASE64Encoder encoder = new BASE64Encoder();
        return encoder.encode(data);// 返回Base64编码过的字节数组字符串
    }

    //base64转图片
    public static boolean GenerateImage(String imgStr, String imgFilePath) {// 对字节数组字符串进行Base64解码并生成图片
        if (imgStr == null) // 图像数据为空
            return false;
        BASE64Decoder decoder = new BASE64Decoder();
        try {
            // Base64解码
            byte[] bytes = decoder.decodeBuffer(imgStr);
            for (int i = 0; i < bytes.length; ++i) {
                if (bytes[i] < 0) {// 调整异常数据
                    bytes[i] += 256;
                }
            }
            // 生成图片
            OutputStream out = new FileOutputStream(imgFilePath);
            out.write(bytes);
            out.flush();
            out.close();
            return true;
        } catch (Exception e) {
            return false;
        }
    }
}